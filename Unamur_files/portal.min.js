if(newwindow.match("1")){newwindow=true}else{newwindow=false}if(antiframe.match("0")){antiframe=false}else{antiframe=true}if(activeTimer.match("0")){activeTimer=false}else{activeTimer=true}$(document).ready(function(){if(antiframe&&top!=self){top.location.href=location.href}$("#appslist").sortable({axis:"y",cursor:"move",opacity:0.5,revert:true,items:"> div.category",update:function(){getOrder()}});restoreOrder();$("div.message").fadeIn("slow");$("input[name=timezone]").val(-(new Date().getTimezoneOffset()/60));var b=$("#menu").tabs({active:0});var e=$('#menu a[href="#'+displaytab+'"]').parent().index();if(e<0){e=0}b.tabs("option","active",e);var a=$("#authMenu").tabs({active:0});if(choicetab){var d=$('#authMenu a[href="#'+choicetab+'"]').parent().index();a.tabs("option","active",d)}$("input[type!=hidden]:first").focus();if(login){$("input[type=password]:first").focus()}if(newwindow){$("#appslist a").attr("target","_blank")}if($("p.removeOther").length){var g=$("form.login").attr("action");var h=$("form.login").attr("method");var c="";if(g.indexOf("?")!=-1){c=g.substring(0,g.indexOf("?"))+"?"}else{c=g+"?"}$("form.login input[type=hidden]").each(function(i){c=c+"&"+$(this).attr("name")+"="+$(this).val()});var f=$("p.removeOther a").attr("href");f=f+"&method="+h+"&url="+$.base64Encode(c);$("p.removeOther a").attr("href",f)}});var setSelector="#appslist";function getOrder(){$.ajax({type:"POST",url:scriptname,data:{storeAppsListOrder:$(setSelector).sortable("toArray").join()},dataType:"json"})}function restoreOrder(){var h=$(setSelector);if(h==null){return}if(!appslistorder){return}var d=appslistorder.split(",");var j=h.sortable("toArray");var k=new Array();for(var l=0,f=j.length;l<f;l++){k[j[l]]=j[l]}for(var e=0,c=d.length;e<c;e++){var a=d[e];if(a in k){var m=k[a];var b=$(setSelector+".ui-sortable").children("#"+m);var g=$(setSelector+".ui-sortable").children("#"+a);b.remove();$(setSelector+".ui-sortable").filter(":first").append(g)}}}function isHiddenFormValueSet(a){if($("#lmhidden_"+a).length){return true}else{return false}}function ping(){$.ajax({type:"POST",url:scriptname,data:{ping:1},dataType:"json",success:function(a){if(!a.auth){location.reload(true)}else{setTimeout(ping,pingInterval)}}})};